import{g as n}from"./app.4f2594b6.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";const a={},e=n(`<h2 id="webpack-\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#webpack-\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> webpack \u57FA\u672C\u914D\u7F6E</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6B64\u5904\u5C55\u793Awebpack \u7684\u57FA\u672C\u914D\u7F6E \u540E\u7EED\u8BF4\u660E\u5404\u4E2A\u914D\u7F6E\u7684\u539F\u56E0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="publicpath" tabindex="-1"><a class="header-anchor" href="#publicpath" aria-hidden="true">#</a> publicPath</h2><blockquote><p>\u5B98\u65B9\u89E3\u91CA\uFF1A \u5148\u7406\u89E3\u7EDD\u5BF9\u8DEF\u5F84\u548C\u76F8\u5BF9\u8DEF\u5F84</p></blockquote><blockquote><ol><li>\u7EDD\u5BF9\u8DEF\u5F84: \u4EE5\u659C\u6760\u5F00\u5934 \u4F8B\u5982 <code>/</code> <code>/docs</code> \u7B49</li></ol></blockquote><blockquote><ol start="2"><li>\u76F8\u5BF9\u8DEF\u5F84: \u662F\u4ECE\u5F53\u524D\u8DEF\u5F84\u5F00\u59CB\u7684\u8DEF\u5F84 \u4EE5<code>./</code>\u5F00\u5934\u6216\u8005\u76F4\u63A5\u5199\u6587\u4EF6\u5939\u540D\u79F0\u4E5F\u9ED8\u8BA4\u662F\u76F8\u5BF9\u8DEF\u5F84<code>docs</code>(\u4E25\u683C\u5199\u6CD5\u5E94\u8BE5\u662F<code>./docs</code>)</li></ol></blockquote><blockquote><p>\u56E0\u4E3A\u7AEF\u53E3\u662F\u76F8\u5BF9\u4E8E\u670D\u52A1\u7AEF\u7684\u5DE5\u4F5C\u76EE\u5F55()\u4E3A\u57FA\u7840\u8DEF\u5F84\u542F\u52A8\u7684 \u800C\u6253\u5305\u4E4B\u540E\u7684 dist \u6587\u4EF6\u5939\u76F8\u5F53\u4E8E\u662F\u4E00\u4E2A\u9759\u6001\u7684\u8D44\u6E90\u6587\u4EF6\u5939</p></blockquote><p>\u4EE5 <code>Live Server</code> \u4F5C\u4E3A\u4E00\u4E2A\u542F\u52A8\u670D\u52A1\u7AEF\u4E3A\u4F8B \u5DE5\u4F5C\u76EE\u5F55\u662F\u4E00\u4E2A\u6587\u4EF6\u5939 <code>s-v3</code></p><blockquote><p>\u6587\u4EF6\u7ED3\u6784\u5982\u4E0B:</p></blockquote><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>.
\u251C\u2500\u2500 README.md
\u251C\u2500\u2500 babel.config.js
\u251C\u2500\u2500 dist
\u2502   \u251C\u2500\u2500 css
\u2502   \u251C\u2500\u2500 favicon.ico
\u2502   \u251C\u2500\u2500 index.html
\u2502   \u2514\u2500\u2500 js
\u251C\u2500\u2500 package.json
\u251C\u2500\u2500 public
\u2502   \u251C\u2500\u2500 favicon.ico
\u2502   \u2514\u2500\u2500 index.html
\u251C\u2500\u2500 src
\u2502   \u251C\u2500\u2500 App.vue
\u2502   \u251C\u2500\u2500 api
\u2502   \u251C\u2500\u2500 assets
\u2502   \u251C\u2500\u2500 components
\u2502   \u251C\u2500\u2500 main.js
\u2502   \u251C\u2500\u2500 router
\u2502   \u251C\u2500\u2500 store
\u2502   \u251C\u2500\u2500 utils
\u2502   \u2514\u2500\u2500 views
\u251C\u2500\u2500 vue.config.js
\u2514\u2500\u2500 yarn.lock
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><code>dist</code> \u6587\u4EF6\u5939\u662F\u4E0B\u9762\u7684\u9759\u6001\u8D44\u6E90\u6587\u4EF6</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>.
\u251C\u2500\u2500 css
\u2502   \u2514\u2500\u2500 chunk-vendors.331f546b.css
\u251C\u2500\u2500 detail.md
\u251C\u2500\u2500 favicon.ico
\u251C\u2500\u2500 index.html
\u2514\u2500\u2500 js
\u251C\u2500\u2500 app.cb67d441.js
\u251C\u2500\u2500 app.cb67d441.js.map
\u251C\u2500\u2500 chunk-03aecb71.6843297c.js
\u251C\u2500\u2500 chunk-03aecb71.6843297c.js.map
\u251C\u2500\u2500 chunk-1c4d2cee.b5780b8a.js
\u251C\u2500\u2500 chunk-1c4d2cee.b5780b8a.js.map
\u251C\u2500\u2500 chunk-2d2169e2.3e9d73ac.js
\u251C\u2500\u2500 chunk-2d2169e2.3e9d73ac.js.map
\u251C\u2500\u2500 chunk-3cc155be.eb1a0b1b.js
\u251C\u2500\u2500 chunk-3cc155be.eb1a0b1b.js.map
\u251C\u2500\u2500 chunk-4310ad70.7b7d73a6.js
\u251C\u2500\u2500 chunk-4310ad70.7b7d73a6.js.map
\u251C\u2500\u2500 chunk-6901caa7.4350d069.js
\u251C\u2500\u2500 chunk-6901caa7.4350d069.js.map
\u251C\u2500\u2500 chunk-vendors.62c66c0b.js
\u2514\u2500\u2500 chunk-vendors.62c66c0b.js.map
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>\u6B64\u65F6\u5982\u679C\u5728 <code>dist\u7684index.html</code> \u4E2D\u542F\u52A8 <code>Live Server</code><code>http://localhost:5500</code> \u6620\u5C04\u7684\u5C31\u662F\u5F53\u524D\u7684\u5DE5\u4F5C\u76EE\u5F55</p><p>\u6B64\u65F6\u7684\u7F51\u9875\u8BF7\u6C42\u7684 html \u7684 url \u662F<code>http://127.0.0.1:5500/dist/index.html</code> \u5BF9\u5E94\u5DE5\u4F5C\u76EE\u5F55\u7684<code>dist</code>\u6587\u4EF6\u5939\u4E0B\u9762\u7684<code>index.html</code>\u9759\u6001\u8D44\u6E90</p><p>\u5728\u4ECE\u6253\u5305\u4E4B\u540E\u89C2\u770B \u5982\u679C publicPath \u8BBE\u7F6E\u4E3A <code>/</code> \u4E00\u4E2A\u7EDD\u5BF9\u8DEF\u5F84 \u5219\u6253\u5305\u4E4B\u540E\u7684 html:\uFF1A</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/js/chunk-03aecb71.6843297c.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/js/chunk-1c4d2cee.b5780b8a.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/js/chunk-2d2169e2.3e9d73ac.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6B64\u65F6\u7684 css \u548C js \u7684\u9759\u6001\u8D44\u6E90\u5219\u662F\u76F8\u5BF9\u4E8E\u670D\u52A1\u7AEF\u7684\u5DE5\u4F5C\u76EE\u5F55\u7684\u6765\u67E5\u8BE2\u7684 \u4F46\u662F \u670D\u52A1\u7AEF\u5E76\u6CA1\u6709 js \u548C css \u6587\u4EF6\u5939</p><p>js \u548C css \u6587\u4EF6\u5939\u90FD\u662F\u5728 dist \u7684 js \u548C css \u4E0B\u9762</p><p>\u5219\u66F4\u6539 publicPath \u4E3A <code>/dist/</code></p><p>\u6B64\u65F6\u6253\u5305\u4E4B\u540E\u7684 html \u4E3A:</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/dist/js/chunk-03aecb71.6843297c.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefetch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u518D\u6B21\u4F7F\u7528<code>live server</code> \u542F\u52A8\u670D\u52A1\u7AEF \u5219\u53EF\u4EE5\u8BBF\u95EE\u5230</p><p>\u4F46\u662F\u8FD9\u6837\u7684\u5F0A\u7AEF\u5728\u4E8E \u4E0D\u540C\u7684\u670D\u52A1\u7AEF\u53EF\u80FD\u5B58\u653E\u7684\u6587\u4EF6\u5939\u4F4D\u7F6E\u4E0D\u540C \u5BFC\u81F4 publicPath \u7684\u8DEF\u5F84\u5E76\u4E0D\u51C6\u786E</p><p>\u4F8B\u5982 \u5982\u679C\u670D\u52A1\u7AEF\u5C06 css \u548C js \u6587\u4EF6\u653E\u5728 dist \u7684 modules \u6587\u4EF6\u5939\u4E0B\u9762</p><p>\u5219 publicPath \u9700\u8981\u6539\u4E3A <code>/dist/modules/</code></p><p>\u6253\u5305\u4E4B\u540E\u7684 html</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/dist/modules/js/chunk-03aecb71.6843297c.js<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5E76\u4E14\u5C06\u6587\u4EF6\u7684 css \u548C js \u76EE\u5F55\u7ED3\u6784\u79FB\u52A8\u6210\u5982\u4E0B</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code>.
\u251C\u2500\u2500 detail.md
\u251C\u2500\u2500 favicon.ico
\u251C\u2500\u2500 index.html
\u2514\u2500\u2500 modules
\u251C\u2500\u2500 css
\u2502   \u2514\u2500\u2500 chunk-vendors.331f546b.css
\u2514\u2500\u2500 js
\u251C\u2500\u2500 app.a3a19729.js
\u251C\u2500\u2500 app.a3a19729.js.map
\u251C\u2500\u2500 chunk-03aecb71.6843297c.js
\u251C\u2500\u2500 chunk-03aecb71.6843297c.js.map
\u251C\u2500\u2500 chunk-1c4d2cee.b5780b8a.js
\u251C\u2500\u2500 chunk-1c4d2cee.b5780b8a.js.map
\u251C\u2500\u2500 chunk-2d2169e2.3e9d73ac.js
\u251C\u2500\u2500 chunk-2d2169e2.3e9d73ac.js.map
\u251C\u2500\u2500 chunk-3cc155be.eb1a0b1b.js
\u251C\u2500\u2500 chunk-3cc155be.eb1a0b1b.js.map
\u251C\u2500\u2500 chunk-4310ad70.7b7d73a6.js
\u251C\u2500\u2500 chunk-4310ad70.7b7d73a6.js.map
\u251C\u2500\u2500 chunk-6901caa7.4350d069.js
\u251C\u2500\u2500 chunk-6901caa7.4350d069.js.map
\u251C\u2500\u2500 chunk-vendors.62c66c0b.js
\u2514\u2500\u2500 chunk-vendors.62c66c0b.js.map
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u518D\u6B21\u542F\u52A8<code>Live Server</code> \u624D\u80FD\u8BBF\u95EE\u5230</p><blockquote><p>\u5982\u679C dist \u6587\u4EF6\u5185\u90E8\u7684\u7ED3\u6784\u4E0D\u53D8\u7684\u8BDD \u5219\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u4F5C\u4E3A publicPath \u5373\u53EF</p><p>\u6B64\u65F6\u5BA2\u6237\u7AEF\u83B7\u53D6\u5230 html \u8D44\u6E90\u7684\u65F6\u5019 \u5176\u4ED6\u7684 css \u548C js \u90FD\u662F\u76F8\u5BF9 index.html \u7684\u8DEF\u5F84\u6765\u83B7\u53D6\u7684 \u56E0\u6B64\u4E0D\u4F1A\u51FA\u73B0\u8DEF\u5F84\u627E 404 \u7684\u95EE\u9898</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/chunk-03aecb71.6843297c.js<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><h2 id="env-\u73AF\u5883\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#env-\u73AF\u5883\u53D8\u91CF" aria-hidden="true">#</a> env \u73AF\u5883\u53D8\u91CF</h2><blockquote><p>process \u5BF9\u8C61\u662F\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\uFF0C\u63D0\u4F9B\u4E86\u6709\u5173\u5F53\u524D Node.js \u8FDB\u7A0B\u7684\u4FE1\u606F\u5E76\u5BF9\u5176\u8FDB\u884C\u63A7\u5236\u3002 p<wbr>rocess.env \u5C5E\u6027\u4F1A\u8FD4\u56DE\u5305\u542B\u7528\u6237\u73AF\u5883\u7684\u5BF9\u8C61\u3002</p></blockquote><h3 id="node-\u73AF\u5883\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#node-\u73AF\u5883\u53D8\u91CF" aria-hidden="true">#</a> node \u73AF\u5883\u53D8\u91CF</h3><blockquote><p>node \u73AF\u5883\u53D8\u91CF\u6307 nodejs \u6267\u884C\u73AF\u5883\u7684\u73AF\u5883\u53D8\u91CF\u3002 \u6B64\u5904\u7684 nodejs \u6307\u7684\u662F webpack \u7684\u7F16\u8BD1\u73AF\u5883\u3002</p></blockquote><p>\u53EF\u4EE5\u901A\u8FC7<code>cross-env</code>\u5305\u7EDF\u4E00 window \u548C Linux \u4E0B\u8BBE\u7F6E node \u73AF\u5883\u53D8\u91CF\u7684\u95EE\u9898</p><p>\u5728<code>webpack</code>\u7F16\u8BD1\u6253\u5305\u7684\u65F6\u5019\u83B7\u53D6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> env <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="\u5BA2\u6237\u7AEF\u7684\u73AF\u5883\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#\u5BA2\u6237\u7AEF\u7684\u73AF\u5883\u53D8\u91CF" aria-hidden="true">#</a> \u5BA2\u6237\u7AEF\u7684\u73AF\u5883\u53D8\u91CF</h2><p>\u6B64\u65F6\u53EF\u4EE5\u901A\u8FC7 webpack \u63D2\u4EF6\uFF08DefinePlugin\uFF09\u83B7\u53D6\u6839\u636E\u73AF\u5883\u53D8\u91CF\u7684\u4E0D\u540C\u8BFB\u53D6\u4E0D\u540C\u7684\u914D\u7F6E\u6CE8\u5165\u5230\u5BA2\u6237\u7AEF\u4E2D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string-property property">&#39;p<wbr>rocess.env&#39;</span><span class="token operator">:</span>
      process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;development&#39;</span>
        <span class="token operator">?</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./dev.env.js&#39;</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./prod.env.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//dev.env.js</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">NODE_ENV</span><span class="token operator">:</span> <span class="token string">&#39;&quot;development&quot;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">api</span><span class="token operator">:</span> <span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5728\u5BA2\u6237\u7AEF\u5219\u53EF\u4EE5\u901A\u8FC7 p<wbr>rocess.env \u83B7\u53D6(\u7F16\u8BD1\u4E4B\u540E\u7684 p<wbr>rocess.env \u7B49\u4F1A\u662F\u4E00\u4E2A\u5BF9\u8C61)</p>`,43);function p(c,t){return e}var r=s(a,[["render",p]]);export{r as default};
