import{r as t,o,c,a as n,d as e,F as l,i as s,g as p}from"./app.4f2594b6.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const u={},i=n("h1",{id:"webgl",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#webgl","aria-hidden":"true"},"#"),s(" WebGL")],-1),k=n("h2",{id:"\u5EFA\u6A21\u6559\u7A0B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5EFA\u6A21\u6559\u7A0B","aria-hidden":"true"},"#"),s(" \u5EFA\u6A21\u6559\u7A0B")],-1),d={href:"https://www.bilibili.com/video/BV1US4y1N7xN?p=3",target:"_blank",rel:"noopener noreferrer"},m=s("blender3.1 \u65B0\u624B 0 \u57FA\u7840\u5165\u95E8"),b=p(`<h2 id="three-js" tabindex="-1"><a class="header-anchor" href="#three-js" aria-hidden="true">#</a> three.js</h2><h3 id="\u901A\u8FC7-npm-\u5B89\u88C5-three-js" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7-npm-\u5B89\u88C5-three-js" aria-hidden="true">#</a> \u901A\u8FC7 npm \u5B89\u88C5 three.js</h3><p>\u5B89\u88C5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install three
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4EE5 cjs \u7684\u98CE\u683C\u5F15\u7528</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token constant">THREE</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;three&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Scene <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;three&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Scene<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4EE5 ESM \u7684\u98CE\u683C\u5F15\u7528</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> <span class="token constant">THREE</span> <span class="token keyword">from</span> <span class="token string">&#39;three&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Scene <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;three&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4E00\u4E9B\u5E38\u7528\u7C7B\u7684\u5F15\u5165</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> OrbitControls <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;three/examples/jsm/controls/OrbitControls&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  CSS2DObject<span class="token punctuation">,</span>
  CSS2DRenderer<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;three/examples/jsm/renderers/CSS2DRenderer&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="\u8F85\u52A9\u5750\u6807\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u8F85\u52A9\u5750\u6807\u7CFB" aria-hidden="true">#</a> \u8F85\u52A9\u5750\u6807\u7CFB</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> width <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> axes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AxesHelper</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>axes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u9700\u8981\u6DFB\u52A0\u5230\u5BF9\u8C61\u6216\u8005\u573A\u666F\u4E2D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="\u8F68\u9053\u63A7\u5236\u5668-orbitcontrols" tabindex="-1"><a class="header-anchor" href="#\u8F68\u9053\u63A7\u5236\u5668-orbitcontrols" aria-hidden="true">#</a> \u8F68\u9053\u63A7\u5236\u5668 OrbitControls</h3><p><a href="#\u901A\u8FC7-npm-\u5B89\u88C5-three-js">\u5F15\u5165 OrbitControls \u7684\u65B9\u5F0F</a></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">OrbitControls</span><span class="token punctuation">(</span>camera<span class="token punctuation">,</span> labelRenderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="\u76F8\u673A" tabindex="-1"><a class="header-anchor" href="#\u76F8\u673A" aria-hidden="true">#</a> \u76F8\u673A</h3><h4 id="\u900F\u89C6\u76F8\u673A" tabindex="-1"><a class="header-anchor" href="#\u900F\u89C6\u76F8\u673A" aria-hidden="true">#</a> \u900F\u89C6\u76F8\u673A</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">three<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span> width <span class="token operator">/</span> height<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u89C6\u91CE\u89D2\u5EA6\uFF08FOV\uFF09 \u4E00\u822C\u4E3A 45\uFF08\u5355\u4F4D\u662F\u89D2\u5EA6\uFF09</p></li><li><p>\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u957F\u5BBD\u6BD4\uFF08aspect ratio\uFF09</p></li><li><p>\u8FD1\u622A\u9762\uFF08near\uFF09\u7269\u4F53\u67D0\u4E9B\u90E8\u5206\u6BD4\u6444\u50CF\u673A\u7684\u8FD1\u622A\u9762\u8FD1 \u4E0D\u4F1A\u6E32\u67D3</p></li><li><p>\u8FDC\u622A\u9762\uFF08far\uFF09\u7269\u4F53\u67D0\u4E9B\u90E8\u5206\u6BD4\u6444\u50CF\u673A\u7684\u8FDC\u622A\u9762\u8FDC \u4E5F\u4E0D\u4F1A\u6E32\u67D3</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u76F8\u673A\u7684\u504F\u79FB\u91CF set(x,y,z)</span>
camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>Threejs \u76F8\u673A\u5BF9\u8C61 Camera \u7684.lookAt()\u65B9\u6CD5\u7528\u6765\u8BBE\u7F6E\u76F8\u673A\u5BF9\u8C61\u770B\u5411\u7684\u4F4D\u7F6E\u3002<br>.lookAt()\u65B9\u6CD5\u7684\u53C2\u6570\u662F\u4E09\u7EF4\u7A7A\u95F4\u4E2D\u4E00\u4E2A\u70B9\u4E16\u754C\u5750\u6807 xyz\uFF0C\u53C2\u6570\u53EF\u4EE5\u662F\u5206\u522B\u8F93\u5165 xyz \u53C2\u6570\u5F62\u5F0F.lookAt(x,y,z)\uFF0C\u53C2\u6570\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A\u8868\u793A\u5750\u6807\u7684\u4E09\u7EF4\u5411\u91CF\u5BF9\u8C61.lookAt(new THREE.Vector3(x,y,z))</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// scene.position\u7684\u9ED8\u8BA4\u662Fnew THREE.Vector3(0,0,0)</span>
<span class="token comment">// \u8FD9\u91CC\u770B\u5411\u573A\u666F\u7684\u539F\u70B9\u7684\u4F4D\u7F6E</span>
<span class="token comment">// \u5728\u8BBE\u7F6ElookAt\u7684</span>
camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="\u6E32\u67D3\u5668" tabindex="-1"><a class="header-anchor" href="#\u6E32\u67D3\u5668" aria-hidden="true">#</a> \u6E32\u67D3\u5668</h3><h4 id="webglrenderer-\u6E32\u67D3\u5668" tabindex="-1"><a class="header-anchor" href="#webglrenderer-\u6E32\u67D3\u5668" aria-hidden="true">#</a> WebGLRenderer \u6E32\u67D3\u5668</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u521B\u5EFAWebGL\u5BF9\u8C61</span>
renderer<span class="token punctuation">.</span><span class="token function">setClearColor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0xeeeeee</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u9ED8\u8BA4\u7684\u6E32\u67D3\u989C\u8272</span>
renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8BBE\u7F6E\u6E32\u67D3\u7684\u5C3A\u5BF8</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5C06\u6E32\u67D3\u7684\u5143\u7D20\u6302\u8F7D\u5230DOM\u4E0A</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="css2drenderer-\u6E32\u67D3\u5668" tabindex="-1"><a class="header-anchor" href="#css2drenderer-\u6E32\u67D3\u5668" aria-hidden="true">#</a> CSS2DRenderer \u6E32\u67D3\u5668</h4>`,26),h=s("CSS2DRenderer \u76F8\u8F83\u4E8E\u7CBE\u7075\u7684\u4F18\u52BF\u5728\u4E8E\u53EF\u4EE5\u901A\u8FC7 css \u63A7\u5236\u6837\u5F0F \u5E76\u4E14\u53EF\u4EE5\u6DFB\u52A0\u4E8B\u4EF6\u64CD\u4F5C "),v={href:"https://codesandbox.io/s/icy-star-uv7ob2?file=/src/App.vue",target:"_blank",rel:"noopener noreferrer"},g=s("\u8DF3\u8F6C\u6848\u4F8B"),w=p(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>labelRenderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CSS2DRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u65B0\u5EFACSS2DRenderer</span>
labelRenderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8BBE\u7F6E\u5C3A\u5BF8</span>
<span class="token comment">// \u8C03\u6574\u663E\u793A\u7684\u4F4D\u7F6E</span>
labelRenderer<span class="token punctuation">.</span>domElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&#39;absolute&#39;</span><span class="token punctuation">;</span>
labelRenderer<span class="token punctuation">.</span>domElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5C06\u6E32\u67D3\u7684\u5143\u7D20\u6302\u8F7D\u5230DOM\u4E0A</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="\u5149\u7EBF\u6295\u5C04-raycaster" tabindex="-1"><a class="header-anchor" href="#\u5149\u7EBF\u6295\u5C04-raycaster" aria-hidden="true">#</a> \u5149\u7EBF\u6295\u5C04 Raycaster</h3>`,2),y={href:"https://threejs.org/docs/index.html?q=ray#api/zh/core/Raycaster",target:"_blank",rel:"noopener noreferrer"},f=s("Raycaster"),j=s(" \u7528\u4E8E\u8BA1\u7B97\u5728\u4E09\u7EF4\u7A7A\u95F4\u4E2D\u9F20\u6807\u7ECF\u8FC7\u4E86\u54EA\u4E9B\u7269\u4F53"),x=p(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5148\u521B\u5EFA\u597D\u4E00\u4E2A\u4E8C\u7EF4\u5411\u91CF\u548C\u4E00\u4E2A\u5149\u7EBF\u6295\u5C04\u5BF9\u8C61</span>
<span class="token keyword">var</span> pointer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Vector2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u4E8C\u7EF4\u5411\u91CF</span>
<span class="token keyword">var</span> raycaster <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Raycaster</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u76D1\u542C\u9F20\u6807\u79FB\u52A8 \u83B7\u53D6\u9F20\u6807\u6620\u5C04\u5230\u4E09\u7EF4\u4E2D\u7684\u5750\u6807</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;mousemove&#39;</span><span class="token punctuation">,</span> onMouseMove<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onMouseMove</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5C06\u9F20\u6807\u4F4D\u7F6E\u5F52\u4E00\u5316\u4E3A\u8BBE\u5907\u5750\u6807\u3002x \u548C y \u65B9\u5411\u7684\u53D6\u503C\u8303\u56F4\u662F (-1 to +1)</span>
  pointer<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>clientX <span class="token operator">/</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  pointer<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>clientY <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">// \u4E4B\u540E\u5728render\u51FD\u6570\u4E2D\u8FDB\u884C\u5BF9\u7269\u4F53\u7684\u64CD\u4F5C</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u901A\u8FC7\u6444\u50CF\u673A\u548C\u9F20\u6807\u4F4D\u7F6E\u66F4\u65B0\u5C04\u7EBF</span>
  raycaster<span class="token punctuation">.</span><span class="token function">setFromCamera</span><span class="token punctuation">(</span>pointer<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u8BA1\u7B97\u7269\u4F53\u548C\u5C04\u7EBF\u7684\u7126\u70B9\u4ECE\u800C\u83B7\u53D6\u5230\u5C04\u7EBF\u4E0A\u7684\u56FE\u5F62\u7684\u5BF9\u8C61</span>
  <span class="token keyword">var</span> intersects <span class="token operator">=</span> raycaster<span class="token punctuation">.</span><span class="token function">intersectObjects</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>intersects<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u4E0D\u91CD\u590D\u9009\u62E9\u5143\u7D20</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dom <span class="token operator">!=</span> intersects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8BBE\u7F6E\u83B7\u53D6\u5230\u7684\u7B2C\u4E00\u4E2A\u7269\u4F53\u7684\u989C\u8272\u503C\u8BBE\u7F6E\u4E3A\u7EA2\u8272</span>
      dom <span class="token operator">=</span> intersects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>object<span class="token punctuation">;</span>
      dom<span class="token punctuation">.</span>material<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BBE\u7F6E\u6210\u767D\u8272</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span> dom<span class="token punctuation">.</span>material<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dom <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="\u9634\u5F71\u6548\u679C" tabindex="-1"><a class="header-anchor" href="#\u9634\u5F71\u6548\u679C" aria-hidden="true">#</a> \u9634\u5F71\u6548\u679C</h3><blockquote><p>Three.js \u4E2D \u80FD\u5F62\u6210\u7684\u9634\u5F71\u7684\u5149\u6E90\u53EA\u6709 <code>THREE.DirectionalLight</code> \u4E0E <code>THREE.SpotLight</code> \u8868\u73B0\u9634\u5F71\u6548\u679C\u7684\u6750\u8D28\u53EA\u6709 <code>THREE.LambertMaterial</code> \u4E0E <code>THREE.PhongMaterial</code> \u5F00\u542F\u9634\u5F71\u6548\u679C\u652F\u6301\u9700\u8981\u6E32\u67D3\u5668\u652F\u6301 \u4F7F\u7528 WebGLRender \u5F00\u542F\u6E32\u67D3\u6548\u679C</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span>shadowMap<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u5F00\u542F\u9634\u5F71\u6548\u679C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>webGLRenderer<span class="token punctuation">.</span>shadowMap<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>PCFSoftShadowMap<span class="token punctuation">;</span> <span class="token comment">// \u9634\u5F71\u7684\u7C7B\u578B</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E4B\u540E\u8BBE\u7F6E\u5149\u6E90 \u4F7F\u706F\u5149\u53EF\u6295\u63B7\u9634\u5F71</p><blockquote><p>\u5E76\u4E0D\u662F\u6240\u6709\u7684\u706F\u5149\u90FD\u53EF\u4EE5\u6295\u63B7\u9634\u5F71\uFF0C\u73AF\u5883\u5149\u5C31\u4E0D\u53EF\u4EE5</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PointLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
light<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//\u706F\u5149\u6295\u63B7\u9634\u5F71</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5982\u679C\u9634\u5F71\u770B\u8D77\u6765\u50CF\u9A6C\u8D5B\u514B\u4E00\u6837 \u8BBE\u7F6E\u9634\u5F71\u5206\u8FA8\u7387\u4F7F\u5F97\u9634\u5F71\u66F4\u52A0\u6E05\u6670</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>light<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">2048</span><span class="token punctuation">;</span>
light<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">2048</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u521B\u5EFA\u53EF\u4EE5\u6295\u63B7\u9634\u5F71\u7684\u7269\u4F53:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xffffff</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// light.color =  new THREE.Color(0xffff00) // \u4FEE\u6539\u805A\u5149\u706F\u989C\u8272</span>
<span class="token comment">// light.visible = false //\u805A\u5149\u706F\u662F\u5426\u5F00\u542F</span>
<span class="token comment">// light.angle = Math.PI / 2 // \u805A\u5149\u706F\u7684\u89D2\u5EA6 \u8BBE\u7F6E\u4ECE\u805A\u5149\u706F\u7684\u4F4D\u7F6E\u5F00\u59CB\u53EF\u4EE5\u8F90\u5C04\u7684\u8303\u56F4\uFF0C\u5355\u4F4D\u662F\u5F27\u5EA6\uFF0C\u5E94\u8BE5\u4E0D\u8D85\u8FC7 Math.PI/2\u3002\u9ED8\u8BA4\u503C\u4E3A Math.PI/3</span>
<span class="token comment">// light.intensity = 3 // \u805A\u5149\u706F\u7684\u5F3A\u5EA6\uFF0C\u9ED8\u8BA4\u503C\u4E3A 1\u3002</span>
<span class="token comment">// light.distance = 10; // \u805A\u5149\u706F\u7684\u8DDD\u79BB\uFF0C\u9ED8\u8BA4\u503C\u4E3A 100\u3002</span>
<span class="token comment">// light.decay = 2; // \u805A\u5149\u706F\u7684\u8870\u51CF\uFF0C\u9ED8\u8BA4\u503C\u4E3A 1\u3002</span>
<span class="token comment">// light.penumbra = 0; // \u805A\u5149\u706F\u7684\u9634\u5F71\u8303\u56F4\uFF0C\u7167\u5C04\u9762\u5149\u5F71\u8870\u51CF\u767E\u5206\u6BD4 \u9ED8\u8BA4\u503C\u4E3A 0\u3002</span>
<span class="token comment">// light.target = scene; // \u805A\u5149\u706F\u7684\u76EE\u6807\u5BF9\u8C61\uFF0Carget\u5C5E\u6027\u7528\u6765\u51B3\u5B9A\u5149\u7167\u7684\u65B9\u5411\uFF0C\u4E00\u822C\u4F1A\u6307\u5411\u4E00\u4E2A\u5BF9\u8C61  \u9ED8\u8BA4\u503C\u4E3A null\u3002</span>
<span class="token comment">// light.exponent = 1; // \u805A\u5149\u706F\u7684\u8870\u51CF\u7CFB\u6570\uFF0C\u9ED8\u8BA4\u503C\u4E3A 10\u3002</span>
<span class="token keyword">var</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
mesh<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u7269\u4F53\u80FD\u591F\u6295\u63B7\u9634\u5F71</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u521B\u5EFA\u53EF\u4EE5\u63A5\u6536\u9634\u5F71\u7684\u5BF9\u8C61</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> plance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xffffff</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u63A5\u6536\u9634\u5F71</span>
<span class="token keyword">var</span> mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>plance<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.5</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>
mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
mesh<span class="token punctuation">.</span>receiveShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// \u7269\u4F53\u53EF\u4EE5\u63A5\u6536\u9634\u5F71</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="gui" tabindex="-1"><a class="header-anchor" href="#gui" aria-hidden="true">#</a> gui</h3>`,15),E={href:"https://lil-gui.georgealways.com/#Examples",target:"_blank",rel:"noopener noreferrer"},_=s("https://lil-gui.georgealways.com/#Examples"),R=s(" \u63A8\u8350\u7684 GUI \u5DE5\u5177");function S(T,H){const a=t("ExternalLinkIcon");return o(),c(l,null,[i,k,n("ul",null,[n("li",null,[n("a",d,[m,e(a)])])]),b,n("blockquote",null,[n("p",null,[h,n("a",v,[g,e(a)])])]),w,n("p",null,[n("a",y,[f,e(a)]),j]),x,n("p",null,[n("a",E,[_,e(a)]),R])],64)}var L=r(u,[["render",S]]);export{L as default};
